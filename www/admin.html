<html>
<head>
	<style>
		dt {
			font-weight: bold;
			margin-left: 1em;
		}
	</style>
</head>
<body><div class=app>
<h1>Administering Hudson</h1>

<h3>HUDSON_HOME directory</h3>
<p>
	Hudon needs some diskspace to perform builds and keep archives.
	You can check this location from the configuration screen of Hudson.
<p>
	By default, this is set to <tt>~/.hudson</tt>,
	but you can change this in one of the following ways:
<ul>
	<li>
		Set "HUDSON_HOME" environment variable to the new home directory before launching the servlet container.
	<li>
		Set "HUDSON_HOME" system property to the servlet container.
	<li>
		Set JNDI environment variable "HUDSON_HOME" to the new directory.
</ul>
<p>
	<a href="https://hudson.dev.java.net/containers/">See the container specific documentation collection</a> for more about how to do this for your container. In either case, if you'd like to carry the current setting/archive, you need to move the contents of the old HUDSON_HOME directory to the new place. Make sure to shutdown before you move files around.
<p>
	HUDSON_HOME has a fairly obvious directory structure that looks like the following:
<div style="margin-left: 5em; margin-right: 5em; padding: 0.3em; border: gray 1px solid;"><pre>
HUDSON_HOME
 +- config.xml     (hudson root configuration)
 +- *.xml          (other site-wide configuration files)
 +- fingerprints   (stores <a href="fingerprint.html">fingerprint records</a>)
 +- plugins        (stores <a href="plugins.html">plugins</a>)
 +- jobs
     +- [JOBNAME]      (sub directory for each job)
         +- config.xml     (job configuration file)
         +- workspace      (working directory for the version control system)
         +- latest         (symbolic link to the last successful build)
         +- builds
             +- [BUILD_ID]     (for each build)
                 +- build.xml      (build result summary)
                 +- log            (log file)
                 +- changelog.xml  (change log)
</pre></div>


<h3>Back up and restore</h3>
<p>
	All the settings, build logs, artifact archives are stored under the HUDSON_HOME directory. Simply archive this directory to make a back up. Similarly, restoring the data is just replacing the contents of the HUDSON_HOME directory from a back up.
<p>
	Back ups can be taken without stopping the server, but when you restore, please do stop the server.


<h3>Moving/copying/renaming jobs</h3>
<p>
	You can:
<ol>
	<li>move a job from one installation of Hudson to another by simply copying the corresponding job directory.
	<li>make a copy of an existing job by making a clone of a job directory by a different name.
	<li>rename an existing job by renaming a directory.
</ol>
<p>
	Those operations can be done even when Hudson is running. For changes like these to take effect, you have to click "reload config" to force Hudson to reload configuration from the disk.


</div></body>
</html>
